<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>Página normal sem título</TITLE>
<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
<META content="Microsoft FrontPage 5.0" name=GENERATOR></HEAD>
<BODY bgColor=#FFFFFF>
<SCRIPT name="JavaScript">


player1=0;
player2=0;
var acertosP1=0;
var acertosP2=0;
var whogoesnow = "";
var t = 1;
var name1 = "";
var name2 = "";
var count_down = 25;
var line = 5; // It is a 5 x 5 matrix....
var col = 5;

// if you change "line" and "col" you have to change btns, verb[][], Solution[][], empty[][], count_down 

var verb = new makeArray2 (line,col);

   verb[0][0] = "???";
   verb[0][1] = "???";
   verb[0][2] = "???";
   verb[0][3] = "???";
   verb[0][4] = "???";
   verb[1][0] = "???";
   verb[1][1] = "???";
   verb[1][2] = "???"; 
   verb[1][3] = "???";
   verb[1][4] = "???";
   verb[2][0] = "???";
   verb[2][1] = "???";
   verb[2][2] = "???";
   verb[2][3] = "???";
   verb[2][4] = "???";
   verb[3][0] = "???";
   verb[3][1] = "???";
   verb[3][2] = "???";
   verb[3][3] = "???";
   verb[3][4] = "???";
   verb[4][0] = "???";
   verb[4][1] = "???";
   verb[4][2] = "???";
   verb[4][3] = "???";
   verb[4][4] = "???";

var Solution = new makeArray2 (line,col);

   Solution[0][0] = "australia"
   Solution[0][1] = "brazil"
   Solution[0][2] = "south korea"
   Solution[0][3] = "usa"
   Solution[0][4] = "china"
   Solution[1][0] = "switzerland"
   Solution[1][1] = "canada"
   Solution[1][2] = "cuba"
   Solution[1][3] = "finland"
   Solution[1][4] = "france"
   Solution[2][0] = "new zealand"
   Solution[2][1] = "mexico"
   Solution[2][2] = "japan"
   Solution[2][3] = "germany"
   Solution[2][4] = "greece"
   Solution[3][0] = "israel"
   Solution[3][1] = "italy"
   Solution[3][2] = "portugal"
   Solution[3][3] = "spain"
   Solution[3][4] = "jamaica"
   Solution[4][0] = "sweden"
   Solution[4][1] = "turkey"
   Solution[4][2] = "england"
   Solution[4][3] = "uruguay"
   Solution[4][4] = "venezuela"


var neighborP1 = new makeArray2 (16,2);
var count_neighborP1=0; // counter for the neighbors of corretP1.....



var neighborP2 = new makeArray2 (16,2);
var count_neighborP2=0;
 
initialize_array(neighborP1,16,2);
initialize_array(neighborP2,16,2);

function report_All()
{
ans = "";
ans += "t:" + t + "\n";
ans += "acertosP1:" + acertosP1 + "\n";
ans += "count_neighborP1:" + count_neighborP1 + "\n";
ans += list_neighbors_all(neighborP1,"neighborP1:");
ans += "acertosP2:" + acertosP2 + "\n";
ans += "count_neighborP2:" + count_neighborP2 + "\n";
ans += list_neighbors_all(neighborP2,"neighborP2:");
ans += list_empty();
document.tictac.text.value = ans;
}
var empty = new makeArray2 (line,col);

    empty[0][0] = -1
    empty[0][1] = -1
    empty[0][2] = -1
    empty[0][3] = -1
    empty[0][4] = -1
    empty[1][0] = -1
    empty[1][1] = -1
    empty[1][2] = -1
    empty[1][3] = -1
    empty[1][4] = -1
    empty[2][0] = -1
    empty[2][1] = -1
    empty[2][2] = -1
    empty[2][3] = -1
    empty[2][4] = -1
    empty[3][0] = -1
    empty[3][1] = -1
    empty[3][2] = -1
    empty[3][3] = -1
    empty[3][4] = -1
    empty[4][0] = -1
    empty[4][1] = -1
    empty[4][2] = -1
    empty[4][3] = -1
    empty[4][4] = -1

     img1 = new Image ()
     img1.src = "flags_pic/img1.jpg"
     img2 = new Image ()
     img2.src = "flags_pic/img2.jpg"
     img3 = new Image ()
     img3.src = "flags_pic/img3.jpg"
     img4 = new Image ()
     img4.src = "flags_pic/img4.jpg"   
     img5 = new Image ()
     img5.src = "flags_pic/img5.gif"
     img6 = new Image ()
     img6.src = "flags_pic/img6.jpg"
     img7 = new Image ()
     img7.src = "flags_pic/img7.jpg"
     img8 = new Image ()
     img8.src = "flags_pic/img8.jpg"     
     img9 = new Image ()
     img9.src = "flags_pic/img9.gif"
     img10 = new Image ()
     img10.src = "flags_pic/img10.jpg"
     img11 = new Image ()
     img11.src = "flags_pic/img11.jpg"
     img12 = new Image ()
     img12.src = "flags_pic/img12.gif"   
     img13 = new Image ()
     img13.src = "flags_pic/img13.gif"
     img14 = new Image ()
     img14.src = "flags_pic/img14.jpg"
     img15 = new Image ()
     img15.src = "flags_pic/img15.jpg"
     img16 = new Image ()
     img16.src = "flags_pic/img16.jpg"
     img17 = new Image ()
     img17.src = "flags_pic/img17.jpg"
     img18 = new Image ()
     img18.src = "flags_pic/img18.jpg"
     img19 = new Image ()
     img19.src = "flags_pic/img19.jpg"
     img20 = new Image ()
     img20.src = "flags_pic/img20.gif"   
     img21 = new Image ()
     img21.src = "flags_pic/img21.jpg"
     img22 = new Image ()
     img22.src = "flags_pic/img22.gif"
     img23 = new Image ()
     img23.src = "flags_pic/img23.gif"
     img24 = new Image ()
     img24.src = "flags_pic/img24.jpg"     
     img25 = new Image ()
     img25.src = "flags_pic/img25.jpg"

function swap_img(file,btn)
{
   file.mypic.src = eval ("img"+(btn+1)+".src");
}


function initialize_array(_array,i,j)
{
        for (x=0 ; x < i; x++)
          {
          for (y=0 ;y < j; y++)
              {
              _array[x][y] = -1;
              }
          }
 
}

function reset_vars(p)
{
if (p==1)
   {
   acertosP1 = 0;
   initialize_array(neighborP1,16,2);
   count_neighborP1=0; 
   }
   else{
       acertosP2 = 0;
       initialize_array(neighborP2,16,2);
       count_neighborP2=0;
       }

}

function makeArray2 (x,y)
{
        var count;
        this.length=x;
        for (var count=0; count<=(x-1); count++)
                this[count]=makeArray(y);
}
function makeArray (numElementos)
{
        var count;
        var arranjo = new Array (numElementos) ;
        for (count = 0; count <= (numElementos-1); count++)
        {
        arranjo[count]=0;
        }
        return(arranjo);
       
}        

function updateScore(file,p1,p2)
{
if (p1 == 1) {player1++;}else{player2++}
	file.player1.value= ':' + player1;
	file.player2.value= ':' + player2;
}


function list_empty()
{
count = 0;
ans = "empty - \n" ;      
      for (x=0 ; x < line; x++)
          {
          for (y=0 ;y < col; y++)
              {
              ans = (ans + count + ":" + empty[x][y] + ";\n")
              count++;
              }
          }

return (ans);
}

function list_neighbors(_array,name)
{
ans = (name + " \n");
x = 0;
do {
   i=_array[x][0];
   j=_array[x][1];
   ans += x + ":" + i + "," + j + ";\n";
   x++;
   }while ((x < _array.length)&&(_array[x][0]!=-1))
return (ans);
}
function list_neighbors_all(_array,name)
{
ans = (name + " \n");
x = 0;
do {
   i=_array[x][0];
   j=_array[x][1];
   ans += x + ":" + i + "," + j + ";\n";
   x++;
   }while ((x < _array.length)&&(_array[x][0]!=-1))
return (ans);
}
function check_if_blocked(p)
{
name_blocked = eval ('name' + p);
neighbors = eval ("neighborP"+ p);
acertosP = eval ('acertosP' + p);

if (p==1){counter = count_neighborP1;}else{counter = count_neighborP2;} // set counter according to player      

dead = true;
	if (counter > 0) // you can only be blocked if you've already scored....
       {
       for (x=0 ; x< counter; x++)
           {
               if (empty [neighbors[x][0]][neighbors[x][1]]== -1)
                  {
                  //alert ("There is no dead lock yet!" + neighbors[x][0] + neighbors[x][1]);
                  dead = false;
                  break;
                  }
           }
        if (dead && (acertosP == 4))
		   {
		   dead = false;
		   return (dead);
		   }
		}
        else {
			 dead = false;
			 return (dead);
			 }
  if (dead == true)
     {
     alert (name_blocked + 'You are totally blocked!');
	 mark_blocked(p);
     reset_vars(p);
	 }
return (dead);
}
function mark_blocked(p)
{
file = document.tictac;
if (p==1){key=1}else{key=0}
z=0;
            for (x=0 ; x< line; x++)
               {
               
               for (y=0 ;y < col; y++)
                   {
                      if ( empty [x][y]== key)
                      {
                      but = eval("file.b" + z);
                      but.value = "*****";
                      empty[x][y]=-2;
                      }
                      z++;
                      
                   }
               }

}

function turnchange(file,t)
{
        if (t == 1)
          {
          t = 0;
          whogoesnow = name2;
		  }
          else{
              t = 1;
              whogoesnow = name1;
              } 
file.text.value = whogoesnow + ' IS PLAYING NOW';
return(t);
}
  

function gameOver(file)
{
          if (player1 > player2)
              {
              document.tictac.text.value = (" Game Over !" + name1 + " is the winner");
              return;
              }
	  if (player1 < player2)
	      {
              document.tictac.text.value = (" Game Over !" + name2 + " is the winner");
              return;
	      }
	  document.tictac.text.value = (" This is the end! No winner");
	
}

function changeAll(file)
{
rdn = Math.random();
name1_temp = prompt("Please write the first player's name ","player 1");  
name2_temp = prompt("Please write the second player's name ","player 2");  

     k = 0;
     for (i = 0; i < line; i++)
     {
         for (j =0; j < col; j++)
         {
         but = eval("file.b" + k);
         but.value = verb[i][j];
         empty[i][j]=-1;
         k++;
         }
     }
if (rdn >= .5)
   {
   name1 = name1_temp;
   name2 = name2_temp;
   file.text.value = name1 + ' IS PLAYING NOW';
   file.player1_name.value = name1 ;
   file.player2_name.value = name2 ;
   }
   else{
       name1 = name2_temp;
	   name2 = name1_temp;
       file.text.value = name1 + ' IS PLAYING NOW';
       file.player1_name.value = name1 ;
       file.player2_name.value = name2 ;
	   }
	file.player1.value= ':' + player1;
	file.player2.value= ':' + player2;

}

function load_neighborsP(i,j,k)
{
array_neighbor = eval ("neighborP" + k );
_counter = eval ('count_neighborP' + k );
    if ((i+1)< line)
       {
       array_neighbor[_counter][0]=i+1; // stores x
       array_neighbor[_counter][1]=j; // stores y
       _counter++;
       }
    if ((i-1)>=0)
       {
       array_neighbor[_counter][0]=i-1; // stores x
       array_neighbor[_counter][1]=j; // stores y
       _counter++;
       }
    if ((j+1)<col)
       {
       array_neighbor[_counter][0]=i; // stores x
       array_neighbor[_counter][1]=j+1; // stores y
       _counter++;
       }
    if ((j-1)>=0)
       {
       array_neighbor[_counter][0]=i; // stores x
       array_neighbor[_counter][1]=j-1; // stores y
       _counter++;
       }
       
if (k==1){count_neighborP1=_counter;}else{count_neighborP2=_counter;}       


}

function adjacent(i,j,p)
{
resp = false;
    if ((i+1)<line)
       {
       if ((empty[i+1][j]==p)&&(empty[i][j]==-1)){resp = true;}
       }
    if ((i-1)>=0)
       {
       if ((empty[i-1][j]==p)&&(empty[i][j]==-1)){resp = true;}
       }
    if ((j+1)<col)
       {
       if ((empty[i][j+1]==p)&&(empty[i][j]==-1)){resp = true;}
       }
    if ((j-1)>=0)
       {
       if ((empty[i][j-1]==p)&&(empty[i][j]==-1)){resp = true;}
       }

if (!resp) {alert ("You didn't choose a valid adjacent position!");}
return (resp);       
}
function change_b(file,i,j,k)
{
document.tictac.text.value += '\n' + ' countdown: \n ' + count_down ;

if (t==1)
   {
   me = 1;
   op = 2;
   label_acerto = "  X  ";
   label_row = 'XXX';
   label_empty_temp = 1;
   label_empty = 'x';
   }
   else {
        me = 2;
        op = 1;
		label_acerto = "  0  ";
		label_row = 'OOO';
		label_empty_temp = 0;
		label_empty = 'O';
		}
    acertosP = eval ('acertosP' + me);
	but = eval("file.b" + k)
    if (but.value == "          ")
       {
       alert("You have to START the game first");
       return;
       }
    if ((but.value == "*****")||(but.value == 'XXX')||(but.value == 'OOO'))
       {
       alert("Wrong button!");
       return;
       }

		  if (acertosP == 0)  
            {
            swap_img(file,k);
            ans = prompt("WHICH COUNTRY HAS GOT THIS FLAG ?",verb[i][j]);
            if (ans == null){return;} // user pressed cancel button in the box....
            if (ans == "")
	           {
               alert ( "WRITE YOUR ANSWER.");
	           return;
	           }
            if (ans.toLowerCase() == Solution[i][j]) 
                {
                  empty[i][j] = label_empty_temp;
                  xo= label_acerto;
                  acertosP++;
				  count_down--;
				  if (me == 1) {acertosP1++;}else{acertosP2++;} 
                  but.value = xo;
                  load_neighborsP(i,j,me);// load neighbours and check for deadlocks
                  check_if_blocked(op);//check if blocked opponent
                  if (check_if_blocked(me))
                     {
                     t = turnchange(file,t);
                     }
                  if (count_down == 0){gameOver(file)};
                  return;
                }
            else 
                {
                alert (" Incorrect answer " );
                t = turnchange(file,t);
                return;
                }
             }// acertos > 0
          else
            {
             if (adjacent(i,j,label_empty_temp))
              {
              swap_img(file,k);
              ans = prompt("WHICH COUNTRY HAS GOT THIS FLAG ?",verb[i][j]);
              if (ans == null){return;} // user pressed cancel button in the box....
              if (ans == "")
	             {
                 alert ( "WRITE YOUR ANSWER.");
	             return;
	             }
              if ((ans.toLowerCase() == Solution[i][j]) && (acertosP < 4))
                 {
                  empty[i][j] = label_empty_temp;
                  xo= label_acerto;
                  acertosP++;
				  count_down--;
				  if (me == 1) {acertosP1++;}else{acertosP2++;}
                  but.value= xo;
                  load_neighborsP(i,j,me);// load neighbours and check for deadlocks
                  check_if_blocked(op);//check if blocked opponent
                  if (check_if_blocked(me))
                     {
                     t = turnchange(file,t);
                     }
                  if (acertosP==4)
                    {
                    z=0;
                     for (x=0 ; x< line; x++)
                      {
                        for (y=0 ;y < col; y++)
                          {
                           if ( empty [x][y]== label_empty_temp)
                             {
                             but = eval("file.b" + z);
                             but.value = label_row;
                             empty[x][y]= label_empty;
                             }
                             z++;
                          }
                       }
                    updateScore(file,me,op);
                    reset_vars(me)
                    t = turnchange(file,t);
                    if (count_down == 0){gameOver(file)};
                    file.text.value = whogoesnow;        
                    } 
                    else  //acertosP < 4 
                       {
                       if (count_down == 0){gameOver(file)};
                       return;
                       } 
                 }
              else
                 {
                 alert (" Incorrect answer " );
                 t = turnchange(file,t);
                 file.text.value = whogoesnow        
                 return;
                 }
              } // if adjacent
             else
              {
              alert (" Choose an adjacent position" );
              }
             }// else of if acertosP > 0 .....

         return;

}
</SCRIPT>

<CENTER>
<FORM name=tictac><INPUT name=start onclick=changeAll(this.form) type=button value=" start "><BR>
  <INPUT name=player1_name value="Player 1" size="20">&nbsp;<INPUT 
name=player1 size=2 value=:0> <BR>
  <INPUT name=player2_name 
value="Player 2" size="20">&nbsp;<INPUT name=player2 size=2 value=:0>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1">
    <tr>
      <td width="50%">
      <p align="center">
      <img border="0" name=mypic src="master_pic/ONE%20TO%20ONE_small.jpg"  ></td>
      <td width="50%" align="center" valign="top">
      <p align="center">&nbsp;
<TABLE border=1 borderColor=#111111 cellPadding=7 cellSpacing=7 
style="BORDER-COLLAPSE: collapse">
  <TBODY>
  <TR>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b0 onclick=change_b(tictac,0,0,0) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b1 onclick=change_b(this.form,0,1,1) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b2 onclick=change_b(this.form,0,2,2) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b3 onclick=change_b(this.form,0,3,3) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b4 onclick=change_b(this.form,0,4,4) type=button value="          "> 
    </TD></TR>
  <TR>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b5 onclick=change_b(tictac,1,0,5) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b6 onclick=change_b(this.form,1,1,6) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b7 onclick=change_b(this.form,1,2,7) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b8 onclick=change_b(this.form,1,3,8) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b9 onclick=change_b(this.form,1,4,9) type=button value="          "> 
    </TD></TR>
  <TR>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b10 onclick=change_b(tictac,2,0,10) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b11 onclick=change_b(this.form,2,1,11) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b12 onclick=change_b(this.form,2,2,12) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b13 onclick=change_b(this.form,2,3,13) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b14 onclick=change_b(this.form,2,4,14) type=button value="          "> 
    </TD></TR>
  <TR>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b15 onclick=change_b(tictac,3,0,15) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b16 onclick=change_b(this.form,3,1,16) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b17 onclick=change_b(this.form,3,2,17) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b18 onclick=change_b(this.form,3,3,18) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b19 onclick=change_b(this.form,3,4,19) type=button value="          "> 
    </TD></TR>
  <TR>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b20 onclick=change_b(tictac,4,0,20) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b21 onclick=change_b(this.form,4,1,21) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b22 onclick=change_b(this.form,4,2,22) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b23 onclick=change_b(this.form,4,3,23) type=button value="          "> 
    </TD>
    <TD align=middle bgColor=#CCFFCC><INPUT name=b24 onclick=change_b(this.form,4,4,24) type=button value="          "> 
    </TD></TR></TBODY></TABLE>      
      </td>
    </tr>
  </table>
<P></P>
<TEXTAREA cols=40 name=text rows=3></TEXTAREA> 
<BR>Write in the box below the simple past form of one of the verbs and click on 
the corresponding button <BR>&nbsp;<BR>&nbsp;<BR>&nbsp; 
<BR></FORM></CENTER></BODY></HTML>